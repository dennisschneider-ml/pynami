

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pynami.nami &mdash; pynami 0.1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> pynami
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../namiclass.html">Main class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../constants.html">Constants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../urls.html">REST URLs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../search_mitglieder.html">Search Mitglieder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modules.html">API reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">pynami</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Module code</a> &raquo;</li>
        
      <li>pynami.nami</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for pynami.nami</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">NAMI library in python</span>

<span class="sd">This module contains the main class :class:`NaMi` and a few simple exception</span>
<span class="sd">definitions.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">from</span> <span class="nn">tabulate</span> <span class="k">import</span> <span class="n">tabulate</span>
<span class="kn">import</span> <span class="nn">pytoml</span> <span class="k">as</span> <span class="nn">toml</span>

<span class="kn">from</span> <span class="nn">.constants</span> <span class="k">import</span> <span class="n">URLS</span>
<span class="kn">from</span> <span class="nn">.schemas.activity</span> <span class="k">import</span> <span class="n">SearchActivitySchema</span><span class="p">,</span> <span class="n">ActivitySchema</span>
<span class="kn">from</span> <span class="nn">.schemas.cogc</span> <span class="k">import</span> <span class="n">SearchBescheinigungSchema</span><span class="p">,</span> <span class="n">BescheinigungSchema</span>
<span class="kn">from</span> <span class="nn">.schemas.dashboard</span> <span class="k">import</span> <span class="n">NotificationSchema</span><span class="p">,</span> <span class="n">StatsSchema</span>
<span class="kn">from</span> <span class="nn">.schemas.default</span> <span class="k">import</span> <span class="n">BaseadminSchema</span>
<span class="kn">from</span> <span class="nn">.schemas.grpadmin</span> <span class="k">import</span> <span class="n">SearchInvoiceSchema</span><span class="p">,</span> <span class="n">InvoiceSchema</span>
<span class="kn">from</span> <span class="nn">.schemas.history</span> <span class="k">import</span> <span class="n">HistoryEntrySchema</span><span class="p">,</span> <span class="n">MitgliedHistorySchema</span>
<span class="kn">from</span> <span class="nn">.schemas.mgl</span> <span class="k">import</span> <span class="n">SearchMitgliedSchema</span><span class="p">,</span> <span class="n">MitgliedSchema</span>
<span class="kn">from</span> <span class="nn">.schemas.search</span> <span class="k">import</span> <span class="n">SearchSchema</span>
<span class="kn">from</span> <span class="nn">.schemas.training</span> <span class="k">import</span> <span class="n">SearchAusbildungSchema</span><span class="p">,</span> <span class="n">AusbildungSchema</span>
<span class="kn">from</span> <span class="nn">.util</span> <span class="k">import</span> <span class="n">open_download_pdf</span>


<div class="viewcode-block" id="NamiResponseTypeError"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NamiResponseTypeError">[docs]</a><span class="k">class</span> <span class="nc">NamiResponseTypeError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;.. deprecated:: 0.1&quot;&quot;&quot;</span>
    <span class="k">pass</span></div>


<div class="viewcode-block" id="NamiResponseSuccessError"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NamiResponseSuccessError">[docs]</a><span class="k">class</span> <span class="nc">NamiResponseSuccessError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This is being raised when the response &#39;success&#39; field is not :data:`True`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span></div>


<div class="viewcode-block" id="NamiHTTPError"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NamiHTTPError">[docs]</a><span class="k">class</span> <span class="nc">NamiHTTPError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Raised when the HTTP status code was not as expected!&quot;&quot;&quot;</span>
    <span class="k">pass</span></div>


<div class="viewcode-block" id="NaMi"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NaMi">[docs]</a><span class="k">class</span> <span class="nc">NaMi</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Main class for communication with the |DPSG| |NAMI|</span>

<span class="sd">    Example:</span>
<span class="sd">        .. code-block::</span>
<span class="sd">            :caption: Connect to the |NAMI|, search for all active members</span>
<span class="sd">                      and print them in a tabulated form.</span>

<span class="sd">            with NaMi(username=&#39;MITGLIEDSNUMMER&#39;, password=&#39;PASSWORD&#39;) as nami:</span>
<span class="sd">                table = []</span>
<span class="sd">                for mgl in nami.search():</span>
<span class="sd">                    table.append(mgl.tabulate())</span>
<span class="sd">                print(tabulate(table, headers=&quot;keys&quot;))</span>

<span class="sd">    Args:</span>
<span class="sd">        config (:obj:`dict`, optional): Authorization configuration</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="p">{},</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">s</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__config</span> <span class="o">=</span> <span class="n">config</span>
        <span class="sd">&quot;&quot;&quot;dict: Contains authorization information and after that a few ids&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__config</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="NaMi._check_response"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NaMi._check_response">[docs]</a>    <span class="k">def</span> <span class="nf">_check_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check a requests response object if the |NAMI| response looks ok.</span>
<span class="sd">        This currently checks some very basic things.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NamiHTTPError: When |HTTP| communication failes</span>
<span class="sd">            NamiResponseSuccessError: When the |NAMI| returns an error</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">!=</span> <span class="n">requests</span><span class="o">.</span><span class="n">codes</span><span class="o">.</span><span class="n">ok</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">NamiHTTPError</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;HTTP Error. Status Code: &#39;</span>
                                <span class="n">f</span><span class="s1">&#39;</span><span class="si">{response.status_code}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;Content-Type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;application/pdf&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">content</span>
        <span class="n">rjson</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">rjson</span><span class="p">[</span><span class="s1">&#39;success&#39;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="n">NamiResponseSuccessError</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;succes state from NAMI was &quot;</span>
                                           <span class="n">f</span><span class="s2">&quot;</span><span class="si">{rjson[&#39;message&#39;]}</span><span class="s2"> </span><span class="si">{rjson}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># allowed response types are: OK, INFO, WARN, ERROR, EXCEPTION</span>
        <span class="k">if</span> <span class="n">rjson</span><span class="p">[</span><span class="s1">&#39;responseType&#39;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;OK&#39;</span><span class="p">,</span> <span class="s1">&#39;INFO&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;responseType from NAMI was </span><span class="si">{rjson[&#39;responseType&#39;]}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">rjson</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span></div>


<div class="viewcode-block" id="NaMi.auth"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NaMi.auth">[docs]</a>    <span class="k">def</span> <span class="nf">auth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Authenticate against the |NAMI| |API|. This stores the jsessionId</span>
<span class="sd">        cookie in the requests session. Therefore this needs to be called only</span>
<span class="sd">        once.</span>

<span class="sd">        This also stores your id (not the Mitgliednummer) for later pruposes.</span>

<span class="sd">        Args:</span>
<span class="sd">            username (:obj:`str`, optional): The |NAMI| username. Which is your</span>
<span class="sd">                Mitgliedsnummer</span>
<span class="sd">            password (:obj:`str`, optional): Your NAMI password</span>

<span class="sd">        Returns:</span>
<span class="sd">            :class:`requests.Session`: The requests session, including the</span>
<span class="sd">            auth cookie</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">username</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">password</span><span class="p">:</span>
            <span class="n">username</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__config</span><span class="p">[</span><span class="s1">&#39;username&#39;</span><span class="p">]</span>
            <span class="n">password</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__config</span><span class="p">[</span><span class="s1">&#39;password&#39;</span><span class="p">]</span>

        <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;Login&#39;</span><span class="p">:</span> <span class="s1">&#39;API&#39;</span><span class="p">,</span>
            <span class="s1">&#39;username&#39;</span><span class="p">:</span> <span class="n">username</span><span class="p">,</span>
            <span class="s1">&#39;password&#39;</span><span class="p">:</span> <span class="n">password</span>
        <span class="p">}</span>

        <span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;</span><span class="si">{URLS[&#39;SERVER&#39;]}{URLS[&#39;AUTH&#39;]}</span><span class="s2">&quot;</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span> <span class="o">!=</span> <span class="mi">200</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Authentication failed!&#39;</span><span class="p">)</span>

        <span class="c1"># Get the id of the user</span>
        <span class="n">myself</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">mitgliedsNummer</span><span class="o">=</span><span class="n">username</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">myself</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">myself</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__config</span><span class="p">[</span><span class="s1">&#39;mitgliedsnummer&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">myself</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">id</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;Received {len(myself)} search results while &#39;</span>
                             <span class="n">f</span><span class="s1">&#39;searching for myself!&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span></div>

    <span class="k">def</span> <span class="nf">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">auth</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

<div class="viewcode-block" id="NaMi.logout"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NaMi.logout">[docs]</a>    <span class="k">def</span> <span class="nf">logout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;This should be called at the end of the communication. It is called</span>
<span class="sd">        when exiting through the :meth:`~contextmnager.__exit__` method.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;</span><span class="si">{URLS[&#39;SERVER&#39;]}{URLS[&#39;LOGOUT&#39;]}</span><span class="s2">&quot;</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span> <span class="o">!=</span> <span class="mi">204</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_check_response</span><span class="p">(</span><span class="n">r</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exception_type</span><span class="p">,</span> <span class="n">exception_value</span><span class="p">,</span> <span class="n">traceback</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">NamiHTTPError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;NamiHTTPError during logout: </span><span class="si">{ex}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">exception_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>

<div class="viewcode-block" id="NaMi._get_baseadmin"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NaMi._get_baseadmin">[docs]</a>    <span class="k">def</span> <span class="nf">_get_baseadmin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">gruppierung</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Base function for retrieving all core lists from the |NAMI|</span>

<span class="sd">        Args:</span>
<span class="sd">            key (:obj:`str`): Name of the wanted items</span>
<span class="sd">            gruppierung (:obj:`int`): In some cases the URL is a bit different</span>
<span class="sd">                and an additional Gruppierungsnummer is nesseccary.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;</span><span class="si">{URLS[&#39;SERVER&#39;]}{URLS[key.upper()]}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="n">gruppierung</span><span class="p">:</span>
            <span class="n">url</span> <span class="o">+=</span> <span class="n">f</span><span class="s1">&#39;</span><span class="si">{gruppierung}</span><span class="s1">/&#39;</span>
        <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Beitragsart&#39;</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="n">url</span> <span class="o">+=</span> <span class="n">f</span><span class="s2">&quot;</span><span class="si">{self.__config[&#39;stammesnummer&#39;]}</span><span class="s2">/&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;gruppierung&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">__config</span><span class="p">[</span><span class="s1">&#39;stammesnummer&#39;</span><span class="p">],</span>
                  <span class="s1">&#39;mitglied&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">__config</span><span class="p">[</span><span class="s1">&#39;mitgliedsnummer&#39;</span><span class="p">],</span>
                  <span class="s1">&#39;page&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                  <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                  <span class="s1">&#39;limit&#39;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">}</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">BaseadminSchema</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_response</span><span class="p">(</span><span class="n">r</span><span class="p">),</span> <span class="n">many</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">countries</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;:obj:`list` of :class:`~pynami.schemas.Baseadmin`: List of all</span>
<span class="sd">        possible countries with their names and ids&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_baseadmin</span><span class="p">(</span><span class="s1">&#39;Land&#39;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">regionen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;:obj:`list` of :class:`~pynami.schemas.Baseadmin`: All Possible</span>
<span class="sd">        Bundeslaender&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_baseadmin</span><span class="p">(</span><span class="s1">&#39;Region&#39;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">zahlungskonditionen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;:obj:`list` of :class:`~pynami.schemas.Baseadmin`: Every paying</span>
<span class="sd">        method (either bank transfer or debit)&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_baseadmin</span><span class="p">(</span><span class="s1">&#39;Zahlungskondition&#39;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">beitragsarten</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;:obj:`list` of :class:`~pynami.schemas.Baseadmin`: Each possible</span>
<span class="sd">        fee&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_baseadmin</span><span class="p">(</span><span class="s1">&#39;Beitragsart&#39;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">geschlecht</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;:obj:`list` of :class:`~pynami.schemas.Baseadmin`: You can choose</span>
<span class="sd">        between three genders: male, female and diverse.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_baseadmin</span><span class="p">(</span><span class="s1">&#39;Geschlecht&#39;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">staaten</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;:obj:`list` of :class:`~pynami.schemas.Baseadmin`: A quite long list</span>
<span class="sd">        of different nationalities&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_baseadmin</span><span class="p">(</span><span class="s1">&#39;Staat&#39;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">konfessionen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;:obj:`list` of :class:`~pynami.schemas.Baseadmin`: All denominations</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_baseadmin</span><span class="p">(</span><span class="s1">&#39;Konfession&#39;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">mgltypes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;:obj:`list` of :class:`~pynami.schemas.Baseadmin`: You can have one</span>
<span class="sd">        of three different member types&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_baseadmin</span><span class="p">(</span><span class="s1">&#39;MglType&#39;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">status_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;:obj:`list` of :class:`~pynami.schemas.Baseadmin`: If you are</span>
<span class="sd">        active, inactiv or already deleted&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_baseadmin</span><span class="p">(</span><span class="s1">&#39;Status_List&#39;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">tagList</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;:obj:`list` of :class:`~pynami.schemas.Baseadmin`: A different list</span>
<span class="sd">        of fee types but with basically the same content. This one is used for</span>
<span class="sd">        searching members.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_baseadmin</span><span class="p">(</span><span class="s1">&#39;TagList&#39;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bausteine</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;:obj:`list` of :class:`~pynami.schemas.Baseadmin`: Choose |DPSG|</span>
<span class="sd">        training parts&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_baseadmin</span><span class="p">(</span><span class="s1">&#39;Baustein&#39;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">subdivision</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;:obj:`list` of :class:`~pynami.schemas.Baseadmin`: Which division</span>
<span class="sd">        you are associated with. This one is only used for searching.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_baseadmin</span><span class="p">(</span><span class="s1">&#39;Untergliederung&#39;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">activities</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;:obj:`list` of :class:`~pynami.schemas.Baseadmin`: Functional</span>
<span class="sd">        activities&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_baseadmin</span><span class="p">(</span><span class="s1">&#39;Alle_Taetigkeiten&#39;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">ebenen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;:obj:`list` of :class:`~pynami.schemas.Baseadmin`: Structural layers</span>
<span class="sd">        in the |DPSG|&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_baseadmin</span><span class="p">(</span><span class="s1">&#39;Ebene&#39;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">ebene1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;:obj:`list` of :class:`~pynami.schemas.Baseadmin`: You can choose</span>
<span class="sd">        a Diözese which you belong to.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_baseadmin</span><span class="p">(</span><span class="s1">&#39;Ebene1&#39;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">gruppierungen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;:obj:`list` of :class:`~pynami.schemas.Baseadmin`: Choose from a</span>
<span class="sd">        list of groups that you are associated with for member admin&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_baseadmin</span><span class="p">(</span><span class="s1">&#39;Gruppierungen&#39;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">grpadmin_gruppierungen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;:obj:`list` of :class:`~pynami.schemas.Baseadmin`: Choose from a</span>
<span class="sd">        list of groups that you are associated with for group admin&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_baseadmin</span><span class="p">(</span><span class="s1">&#39;grpadmin_grps&#39;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">stats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :class:`~pynami.schemas.Stats`: Contains counts from different tiers.</span>
<span class="sd">        The actual list of :class:`pynami.schemas.StatCategory` is in the</span>
<span class="sd">        &#39;statsCategories&#39; attribute.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;</span><span class="si">{URLS[&#39;SERVER&#39;]}{URLS[&#39;STATS&#39;]}</span><span class="s2">&quot;</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">StatsSchema</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_response</span><span class="p">(</span><span class="n">r</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">notifications</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :obj:`list` of :class:`~.schemas.Notification`: All current</span>
<span class="sd">        notifications (like tier changes of members). In the |NAMI| these are</span>
<span class="sd">        displayed in the dashboard.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;</span><span class="si">{URLS[&#39;SERVER&#39;]}{URLS[&#39;NOTIFICATIONS&#39;]}</span><span class="s2">&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;page&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                  <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                  <span class="s1">&#39;limit&#39;</span><span class="p">:</span> <span class="mi">10000</span><span class="p">}</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">NotificationSchema</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_response</span><span class="p">(</span><span class="n">r</span><span class="p">),</span> <span class="n">many</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">history</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :obj:`list` of :class:`~.schemas.HistoryEntry`: Last editing events</span>
<span class="sd">        like updating and creating members.In the |NAMI| these are displayed in</span>
<span class="sd">        the dashboard.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;</span><span class="si">{URLS[&#39;SERVER&#39;]}{URLS[&#39;HISTORY&#39;]}</span><span class="s2">&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;page&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                  <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                  <span class="s1">&#39;limit&#39;</span><span class="p">:</span> <span class="mi">10000</span><span class="p">}</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HistoryEntrySchema</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_response</span><span class="p">(</span><span class="n">r</span><span class="p">),</span> <span class="n">many</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<div class="viewcode-block" id="NaMi.ebene2"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NaMi.ebene2">[docs]</a>    <span class="k">def</span> <span class="nf">ebene2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ebene1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        You can choose a Bezirk which you belong to.</span>

<span class="sd">        Args:</span>
<span class="sd">            ebene1 (int): Group id of a Diözese</span>

<span class="sd">        Returns:</span>
<span class="sd">            :obj:`list` of :class:`~pynami.schemas.Baseadmin`: List of possible</span>
<span class="sd">            Bezirken you are associated with&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_baseadmin</span><span class="p">(</span><span class="s1">&#39;Ebene2&#39;</span><span class="p">,</span> <span class="n">ebene1</span><span class="p">)</span></div>

<div class="viewcode-block" id="NaMi.ebene3"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NaMi.ebene3">[docs]</a>    <span class="k">def</span> <span class="nf">ebene3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ebene2</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        You can choose a Stamm which you belong to.</span>

<span class="sd">        Args:</span>
<span class="sd">            ebene1 (int): Group id of a Bezirk</span>

<span class="sd">        Returns:</span>
<span class="sd">            :obj:`list` of :class:`~pynami.schemas.Baseadmin`: List of possible</span>
<span class="sd">            Stämmen you are associated with&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_baseadmin</span><span class="p">(</span><span class="s1">&#39;Ebene3&#39;</span><span class="p">,</span> <span class="n">ebene2</span><span class="p">)</span></div>

<div class="viewcode-block" id="NaMi.invoices"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NaMi.invoices">[docs]</a>    <span class="k">def</span> <span class="nf">invoices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">groupId</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        List of all invoices of a group</span>

<span class="sd">        Args:</span>
<span class="sd">            groupId (:obj:`int`, optional): Group id</span>

<span class="sd">        Returns:</span>
<span class="sd">            :obj:`list` of :class:`~.grpadmin.SearchInvoice`: All invoices of</span>
<span class="sd">            the specified group</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">groupId</span><span class="p">:</span>
            <span class="n">groupId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__config</span><span class="p">[</span><span class="s1">&#39;stammesnummer&#39;</span><span class="p">]</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;</span><span class="si">{URLS[&#39;SERVER&#39;]}{URLS[&#39;INVOICE&#39;]}{groupId}</span><span class="s2">/flist&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;page&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                  <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                  <span class="s1">&#39;limit&#39;</span><span class="p">:</span> <span class="mi">10000</span><span class="p">}</span>
        <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">SearchInvoiceSchema</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_response</span><span class="p">(</span><span class="n">r</span><span class="p">),</span> <span class="n">many</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="NaMi.invoice"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NaMi.invoice">[docs]</a>    <span class="k">def</span> <span class="nf">invoice</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">groupId</span><span class="p">,</span> <span class="n">invId</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get an invoice by its id.</span>

<span class="sd">        Args:</span>
<span class="sd">            mgl (int): Member id (not |DPSG| Mitgliedsnummer)</span>
<span class="sd">            invId (int): Id of the invoice. This will probably originate from</span>
<span class="sd">                a search result, e.g. by calling :meth:`invoices`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            :class:`~.grpadmin.Invoice`: The Invoice object containing all</span>
<span class="sd">            details.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;</span><span class="si">{URLS[&#39;SERVER&#39;]}{URLS[&#39;INVOICE&#39;]}{groupId}</span><span class="s2">/</span><span class="si">{invId}</span><span class="s2">&quot;</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">InvoiceSchema</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_response</span><span class="p">(</span><span class="n">r</span><span class="p">))</span></div>

<div class="viewcode-block" id="NaMi.download_invoice"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NaMi.download_invoice">[docs]</a>    <span class="k">def</span> <span class="nf">download_invoice</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">id_</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Downloads and opens an invoice as a pdf document.</span>

<span class="sd">        Args:</span>
<span class="sd">            id_ (int): Id of the invoice (not the regular invoice number)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;</span><span class="si">{URLS[&#39;SERVER&#39;]}{URLS[&#39;INVOICE_PDF&#39;]}</span><span class="s2">&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">id_</span><span class="p">}</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="n">open_download_pdf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_response</span><span class="p">(</span><span class="n">r</span><span class="p">))</span></div>

<div class="viewcode-block" id="NaMi.mgl_activities"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NaMi.mgl_activities">[docs]</a>    <span class="k">def</span> <span class="nf">mgl_activities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mgl</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        List of all activities of a member</span>

<span class="sd">        Args:</span>
<span class="sd">            mgl (int): Member id (not |DPSG| Mitgliedsnummer)</span>

<span class="sd">        Returns:</span>
<span class="sd">            :obj:`list` of :class:`~pynami.schemas.Activity`: All activities of</span>
<span class="sd">            the member (even those which have already ended)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;</span><span class="si">{URLS[&#39;SERVER&#39;]}{URLS[&#39;MGL_TAETIGKEITEN&#39;]}{mgl}</span><span class="s2">/flist&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;page&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                  <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                  <span class="s1">&#39;limit&#39;</span><span class="p">:</span> <span class="mi">10000</span><span class="p">}</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">SearchActivitySchema</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_response</span><span class="p">(</span><span class="n">r</span><span class="p">),</span> <span class="n">many</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="NaMi.get_activity"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NaMi.get_activity">[docs]</a>    <span class="k">def</span> <span class="nf">get_activity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mgl</span><span class="p">,</span> <span class="n">id_</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get an activity by its id.</span>

<span class="sd">        Args:</span>
<span class="sd">            mgl (int): Member id (not |DPSG| Mitgliedsnummer)</span>
<span class="sd">            id_ (int): Id of the activity. This will probably originate from an</span>
<span class="sd">                activity search result, e.g. by calling :meth:`mgl_activities`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            :class:`~.schemas.Activity`: The Activity object containing all</span>
<span class="sd">            details.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;</span><span class="si">{URLS[&#39;SERVER&#39;]}{URLS[&#39;MGL_TAETIGKEITEN&#39;]}{mgl}</span><span class="s2">/</span><span class="si">{id_}</span><span class="s2">&quot;</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ActivitySchema</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_response</span><span class="p">(</span><span class="n">r</span><span class="p">))</span></div>

<div class="viewcode-block" id="NaMi.update_activity"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NaMi.update_activity">[docs]</a>    <span class="k">def</span> <span class="nf">update_activity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mgl</span><span class="p">,</span> <span class="n">act</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Update an activity</span>

<span class="sd">        Args:</span>
<span class="sd">            mgl (int): Member id (not |DPSG| Mitgliedsnummer)</span>
<span class="sd">            act (:class:`~.schemas.Activity`): Updated data set. The activity</span>
<span class="sd">                id is taken form this data set.</span>

<span class="sd">        Returns:</span>
<span class="sd">            :class:`~.schemas.Activity`: A new updated object</span>

<span class="sd">        Warning:</span>
<span class="sd">            This has not been tested yet!</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;</span><span class="si">{URLS[&#39;SERVER&#39;]}{URLS[&#39;MGL_TAETIGKEITEN&#39;]}{mgl}</span><span class="s2">/</span><span class="si">{act.id}</span><span class="s2">&quot;</span>
        <span class="n">userjson</span> <span class="o">=</span> <span class="n">ActivitySchema</span><span class="p">()</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">act</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">userjson</span><span class="p">)</span>
        <span class="n">req</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span><span class="s1">&#39;PUT&#39;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span>
                               <span class="n">json</span><span class="o">=</span><span class="n">userjson</span><span class="p">)</span>
        <span class="n">prereq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">prepare_request</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">prereq</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
<span class="c1">#        r = self.s.put(url, json=ActivitySchema().dumps(act.data))</span>
<span class="c1">#        return ActivitySchema().load(self._check_response(r))</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="NaMi.mgl_ausbildungen"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NaMi.mgl_ausbildungen">[docs]</a>    <span class="k">def</span> <span class="nf">mgl_ausbildungen</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mglId</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get all trainings from a Mitglied.</span>

<span class="sd">        Args:</span>
<span class="sd">            mglId (int): Member id (not |DPSG| Mitgliedsnummer)</span>

<span class="sd">        Returns:</span>
<span class="sd">            :obj:`list` of :class:`~.schemas.SearchAusbildung`: All trainings</span>
<span class="sd">            of the member</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;</span><span class="si">{URLS[&#39;SERVER&#39;]}{URLS[&#39;AUSBILDUNG&#39;]}{mglId}</span><span class="s2">/flist&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;page&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                  <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                  <span class="s1">&#39;limit&#39;</span><span class="p">:</span> <span class="mi">10000</span><span class="p">}</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_response</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">SearchAusbildungSchema</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">many</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="NaMi.get_ausbildung"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NaMi.get_ausbildung">[docs]</a>    <span class="k">def</span> <span class="nf">get_ausbildung</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mglId</span><span class="p">,</span> <span class="n">id_</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get a training by its id.</span>

<span class="sd">        Args:</span>
<span class="sd">            mglId (int): Member id (not |DPSG| Mitgliedsnummer)</span>
<span class="sd">            id_ (int): Id of the training. This will probably originate from an</span>
<span class="sd">                training search result, e.g. by calling</span>
<span class="sd">                :meth:`mgl_ausbildungen`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            :class:`~.schemas.Ausbildung`: The Ausbildung object containing all</span>
<span class="sd">            details about the training.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;</span><span class="si">{URLS[&#39;SERVER&#39;]}{URLS[&#39;AUSBILDUNG&#39;]}{mglId}</span><span class="s2">/</span><span class="si">{id_}</span><span class="s2">&quot;</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">AusbildungSchema</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_response</span><span class="p">(</span><span class="n">r</span><span class="p">))</span></div>

<div class="viewcode-block" id="NaMi.update_ausbildung"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NaMi.update_ausbildung">[docs]</a>    <span class="k">def</span> <span class="nf">update_ausbildung</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mglId</span><span class="p">,</span> <span class="n">ausbildung</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Update an activity</span>

<span class="sd">        Args:</span>
<span class="sd">            mgl (int): Member id (not |DPSG| Mitgliedsnummer)</span>
<span class="sd">            ausbildung (:class:`~.schemas.Ausbildung`): Updated data set. The</span>
<span class="sd">                training id is taken form this data set.</span>

<span class="sd">        Returns:</span>
<span class="sd">            :class:`~.schemas.Ausbildung`: A new updated object</span>

<span class="sd">        Warning:</span>
<span class="sd">            This has not been tested yet!</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;</span><span class="si">{URLS[&#39;SERVER&#39;]}{URLS[&#39;AUSBILDUNG&#39;]}{mglId}</span><span class="s2">/</span><span class="si">{ausbildung.id}</span><span class="s2">&quot;</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">AusbildungSchema</span><span class="p">()</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">ausbildung</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">AusbildungSchema</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_response</span><span class="p">(</span><span class="n">r</span><span class="p">))</span></div>

<div class="viewcode-block" id="NaMi.mgl_history"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NaMi.mgl_history">[docs]</a>    <span class="k">def</span> <span class="nf">mgl_history</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mglId</span><span class="p">,</span> <span class="n">ext</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get all history changes from a Mitglied.</span>

<span class="sd">        Args:</span>
<span class="sd">            mglId (int): Member id (not |DPSG| Mitgliedsnummer)</span>
<span class="sd">            ext (:obj:`bool`, optional): If the extended history format should</span>
<span class="sd">                be used. Defaults to :data:`True`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            :obj:`list` of :class:`~.schemas.HistoryEntry`: All history entries</span>
<span class="sd">            of the member</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">key</span> <span class="o">=</span> <span class="s1">&#39;MGL_HISTORY_EXT&#39;</span> <span class="k">if</span> <span class="n">ext</span> <span class="k">else</span> <span class="s1">&#39;MGL_HISTORY&#39;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;</span><span class="si">{URLS[&#39;SERVER&#39;]}{URLS[key]}{mglId}</span><span class="s2">/flist&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;page&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                  <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                  <span class="s1">&#39;limit&#39;</span><span class="p">:</span> <span class="mi">10000</span><span class="p">}</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">HistoryEntrySchema</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_response</span><span class="p">(</span><span class="n">r</span><span class="p">),</span> <span class="n">many</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="NaMi.get_mgl_history"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NaMi.get_mgl_history">[docs]</a>    <span class="k">def</span> <span class="nf">get_mgl_history</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mglId</span><span class="p">,</span> <span class="n">id_</span><span class="p">,</span> <span class="n">ext</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get a member history entry by its id.</span>

<span class="sd">        Args:</span>
<span class="sd">            mglId (int): Member id (not |DPSG| Mitgliedsnummer)</span>
<span class="sd">            id_ (int): Id of the entry. May originate from a search result,</span>
<span class="sd">                e.g. by calling :meth:`mgl_history`.</span>
<span class="sd">            ext (:obj:`bool`, optional): If the extended history format should</span>
<span class="sd">                be used. Defaults to :data:`True`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            :class:`~.schemas.MitgliedHistory`: The object containing all vital</span>
<span class="sd">            information about this history entry.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">key</span> <span class="o">=</span> <span class="s1">&#39;MGL_HISTORY_EXT&#39;</span> <span class="k">if</span> <span class="n">ext</span> <span class="k">else</span> <span class="s1">&#39;MGL_HISTORY&#39;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;</span><span class="si">{URLS[&#39;SERVER&#39;]}{URLS[key]}{mglId}</span><span class="s2">/</span><span class="si">{id_}</span><span class="s2">&quot;</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">MitgliedHistorySchema</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_response</span><span class="p">(</span><span class="n">r</span><span class="p">))</span></div>

<div class="viewcode-block" id="NaMi.bescheinigungen"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NaMi.bescheinigungen">[docs]</a>    <span class="k">def</span> <span class="nf">bescheinigungen</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;</span><span class="si">{URLS[&#39;SERVER&#39;]}{URLS[&#39;FZ&#39;]}</span><span class="s2">flist&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;page&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                  <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                  <span class="s1">&#39;limit&#39;</span><span class="p">:</span> <span class="mi">10000</span><span class="p">}</span>
        <span class="n">params</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_response</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">SearchBescheinigungSchema</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">many</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="NaMi.get_bescheinigung"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NaMi.get_bescheinigung">[docs]</a>    <span class="k">def</span> <span class="nf">get_bescheinigung</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">id_</span><span class="p">):</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;</span><span class="si">{URLS[&#39;SERVER&#39;]}{URLS[&#39;FZ&#39;]}{id_}</span><span class="s2">&quot;</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">BescheinigungSchema</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_response</span><span class="p">(</span><span class="n">r</span><span class="p">))</span></div>

<div class="viewcode-block" id="NaMi.download_bescheinigung"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NaMi.download_bescheinigung">[docs]</a>    <span class="k">def</span> <span class="nf">download_bescheinigung</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">id_</span><span class="p">):</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;</span><span class="si">{URLS[&#39;SERVER&#39;]}{URLS[&#39;FZ&#39;]}</span><span class="s2">download-pdf-eigene-bescheinigung&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">id_</span><span class="p">}</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="n">open_download_pdf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_response</span><span class="p">(</span><span class="n">r</span><span class="p">))</span></div>

<div class="viewcode-block" id="NaMi.download_beantragung"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NaMi.download_beantragung">[docs]</a>    <span class="k">def</span> <span class="nf">download_beantragung</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;</span><span class="si">{URLS[&#39;SERVER&#39;]}{URLS[&#39;BEANTRAGUNG&#39;]}</span><span class="s2">&quot;</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="n">open_download_pdf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_response</span><span class="p">(</span><span class="n">r</span><span class="p">))</span></div>

<div class="viewcode-block" id="NaMi.search_all"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NaMi.search_all">[docs]</a>    <span class="k">def</span> <span class="nf">search_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filterString</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">searchString</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">sortproperty</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                   <span class="n">sortdirection</span><span class="o">=</span><span class="s1">&#39;ASC&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Search function for filtering the whole member list with limited</span>
<span class="sd">        filter options.</span>

<span class="sd">        It is also possible to sort the results.</span>

<span class="sd">        Args:</span>
<span class="sd">            filterString (:obj:`str`, optional): Filter attribute.</span>
<span class="sd">            searchString (:obj:`str`, optional): You can search within the</span>
<span class="sd">                chosen filter attribute. The Format must match the type of the</span>
<span class="sd">                filter attribute.</span>
<span class="sd">            sortproperty (:obj:`str`, optional): Attribute by wich the results</span>
<span class="sd">                shall be sorted.</span>
<span class="sd">            sortdirection (:obj:`str`, optional): Direction of sorting. Can</span>
<span class="sd">                take the values ``ASC`` (wich is the default) and ``DESC``.</span>

<span class="sd">        Returns:</span>
<span class="sd">            :obj:`list` of :class:`~pynami.schemas.SearchMitglied`: The search</span>
<span class="sd">            results</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sdirvalid</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ASC&#39;</span><span class="p">,</span> <span class="s1">&#39;DESC&#39;</span><span class="p">}</span>
        <span class="k">if</span> <span class="n">sortdirection</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">sdirvalid</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;search_all: &#39;sortdirection&#39; must be one of &quot;</span>
                             <span class="n">f</span><span class="s2">&quot;</span><span class="si">{sdirvalid}</span><span class="s2"> but is </span><span class="si">{sortdirection}</span><span class="s2">.&quot;</span><span class="p">)</span>
        <span class="n">sort</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">sortproperty</span><span class="p">:</span>
            <span class="n">keys</span> <span class="o">=</span> <span class="n">SearchMitgliedSchema</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s1">&#39;_declared_fields&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">sortproperty</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;search_all: value of &#39;sortproperty&#39; is not &quot;</span>
                                 <span class="n">f</span><span class="s2">&quot;in the list of allowed values!&quot;</span><span class="p">)</span>
            <span class="n">sort</span> <span class="o">=</span> <span class="s1">&#39;[{&quot;property&quot;:&#39;</span> <span class="o">+</span> <span class="n">f</span><span class="s1">&#39;&quot;</span><span class="si">{sortproperty}</span><span class="s1">&quot;&#39;</span> <span class="o">+</span> \
                   <span class="n">f</span><span class="s1">&#39;,&quot;direction&quot;:&quot;</span><span class="si">{sortdirection}</span><span class="s1">&quot;&#39;</span> <span class="o">+</span> <span class="s1">&#39;}]&#39;</span>

        <span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;</span><span class="si">{URLS[&#39;SERVER&#39;]}{URLS[&#39;SEARCH_ALL&#39;]}</span><span class="s2">&quot;</span> <span class="o">+</span> \
              <span class="n">f</span><span class="s2">&quot;</span><span class="si">{self.__config[&#39;stammesnummer&#39;]}</span><span class="s2">/flist&quot;</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;filterString&#39;</span><span class="p">:</span> <span class="n">filterString</span><span class="p">,</span>
                  <span class="s1">&#39;searchString&#39;</span><span class="p">:</span> <span class="n">searchString</span><span class="p">,</span>
                  <span class="s1">&#39;page&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                  <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                  <span class="s1">&#39;limit&#39;</span><span class="p">:</span> <span class="mi">10000</span><span class="p">,</span>
                  <span class="s1">&#39;sort&#39;</span><span class="p">:</span> <span class="n">sort</span><span class="p">}</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">SearchMitgliedSchema</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_response</span><span class="p">(</span><span class="n">r</span><span class="p">),</span> <span class="n">many</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="NaMi.search"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NaMi.search">[docs]</a>    <span class="k">def</span> <span class="nf">search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Run a search for members</span>

<span class="sd">        Todo:</span>
<span class="sd">            * Check search terms and formatting. Also some search keys can only</span>
<span class="sd">              be used mutually exclusive.</span>

<span class="sd">        Args:</span>
<span class="sd">            **kwargs: Search keys and words. Be advised that some search words</span>
<span class="sd">                must  have a certain formatting or can only take a limited</span>
<span class="sd">                amount of values.</span>

<span class="sd">        Returns:</span>
<span class="sd">            :obj:`list` of :class:`~.schemas.SearchMitglied`: The search</span>
<span class="sd">            results</span>

<span class="sd">        See also:</span>
<span class="sd">            :class:`~pynami.search.SearchSchema` for a complete list of search</span>
<span class="sd">            keys</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># this is just a default search</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;mglStatusId&#39;</span><span class="p">:</span> <span class="s1">&#39;AKTIV&#39;</span><span class="p">,</span>
                           <span class="s1">&#39;mglTypeId&#39;</span><span class="p">:</span> <span class="s1">&#39;MITGLIED&#39;</span><span class="p">})</span>

        <span class="c1"># this defaults should avoid pagination</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;searchedValues&#39;</span><span class="p">:</span> <span class="n">SearchSchema</span><span class="p">()</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span>
                                                   <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;:&#39;</span><span class="p">)),</span>
            <span class="s1">&#39;page&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s1">&#39;limit&#39;</span><span class="p">:</span> <span class="mi">10000</span>
        <span class="p">}</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;</span><span class="si">{URLS[&#39;SERVER&#39;]}{URLS[&#39;SEARCH&#39;]}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">SearchMitgliedSchema</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_response</span><span class="p">(</span><span class="n">r</span><span class="p">),</span> <span class="n">many</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="NaMi.mitglied"><a class="viewcode-back" href="../../pynami.html#pynami.nami.NaMi.mitglied">[docs]</a>    <span class="k">def</span> <span class="nf">mitglied</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mglid</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="n">stammesnummer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets or updates a Mitglied.</span>

<span class="sd">        The keyword arguments are passed on to the |HTTP| communication</span>

<span class="sd">        Args:</span>
<span class="sd">            mglid (int): ID of the Mitglied. This is not the |NAMI|</span>
<span class="sd">                Mitgliedsnummer</span>
<span class="sd">            method (:obj:`str`): |HTTP| Method. Should be ``GET`` or ``PUT``,</span>
<span class="sd">                defaults to ``GET``.</span>
<span class="sd">            stammesnummer (:obj:`int`, optional): The |DPSG| Stammesnummer,</span>
<span class="sd">                e.g. ``131913``. The default (:data:`None`) takes the value</span>
<span class="sd">                from the internal attribute :attr:`~NaMi.__config`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            :class:`~pynami.schemas.Mitglied`: The retrieved or respectively</span>
<span class="sd">            updated Mitglied. Note that the</span>
<span class="sd">            :attr:`~pynami.schemas.MitliedSchema.austrittsdatum` attribute is</span>
<span class="sd">            not part of the returned data set.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">stammesnummer</span><span class="p">:</span>
            <span class="n">stammesnummer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__config</span><span class="p">[</span><span class="s1">&#39;stammesnummer&#39;</span><span class="p">]</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&quot;</span><span class="si">{URLS[&#39;SERVER&#39;]}{URLS[&#39;GETMGL&#39;]}{stammesnummer}</span><span class="s2">/</span><span class="si">{mglid}</span><span class="s2">&quot;</span>
        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">MitgliedSchema</span><span class="p">()</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_check_response</span><span class="p">(</span><span class="n">r</span><span class="p">))</span></div></div>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">os</span>
    <span class="sd">&quot;&quot;&quot;import logging</span>
<span class="sd">    import http.client</span>

<span class="sd">    http.client.HTTPConnection.debuglevel = 1</span>
<span class="sd">    logging.basicConfig(level=logging.DEBUG)</span>
<span class="sd">    requests_log = logging.getLogger(&quot;requests.packages.urllib3&quot;)</span>
<span class="sd">    requests_log.setLevel(logging.DEBUG)</span>
<span class="sd">    requests_log.propagate = True&quot;&quot;&quot;</span>

    <span class="n">search</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;mglStatusId&#39;</span><span class="p">:</span> <span class="s1">&#39;AKTIV&#39;</span><span class="p">,</span>
        <span class="s1">&#39;mglTypeId&#39;</span><span class="p">:</span> <span class="s1">&#39;MITGLIED&#39;</span><span class="p">,</span>
        <span class="s1">&#39;untergliederungId&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
        <span class="s1">&#39;taetigkeitId&#39;</span><span class="p">:</span> <span class="mi">1</span>
    <span class="p">}</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)),</span>
                       <span class="s1">&#39;.pynami.conf&#39;</span><span class="p">),</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">cfg</span><span class="p">:</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">toml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">cfg</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">NaMi</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;nami&#39;</span><span class="p">])</span> <span class="k">as</span> <span class="n">nami</span><span class="p">:</span>
        <span class="n">table</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c1">#       print(nami.search())</span>
        <span class="k">for</span> <span class="n">mgl</span> <span class="ow">in</span> <span class="n">nami</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="o">**</span><span class="n">search</span><span class="p">):</span>
            <span class="c1"># print(mgl.data[&#39;email&#39;])</span>
            <span class="c1"># by default you should only show what the search returns</span>
            <span class="n">table</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">mgl</span><span class="o">.</span><span class="n">tabulate</span><span class="p">())</span>

            <span class="c1"># but you can also fetch the actual user object with more data</span>
            <span class="c1"># beware to not kill the API with numerous requests</span>
            <span class="c1"># details = mgl.get_mitglied(nami)</span>
            <span class="c1"># table.append(details.tabulate())</span>

        <span class="nb">print</span><span class="p">(</span><span class="n">tabulate</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="s2">&quot;keys&quot;</span><span class="p">))</span>

        <span class="c1"># print(user.data[&#39;kontoverbindung&#39;])</span>
        <span class="c1"># user.data[&#39;spitzname&#39;] = &#39;Proff&#39;</span>

        <span class="n">kv</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;147855&quot;</span><span class="p">,</span> <span class="s2">&quot;zahlungsKonditionId&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;mitgliedsNummer&quot;</span><span class="p">:</span><span class="mi">64697</span><span class="p">,</span>
              <span class="s2">&quot;institut&quot;</span><span class="p">:</span><span class="s2">&quot;Spard-Bank West&quot;</span><span class="p">,</span> <span class="s2">&quot;kontoinhaber&quot;</span><span class="p">:</span><span class="s2">&quot;Sebastian Scholz&quot;</span><span class="p">,</span>
              <span class="s2">&quot;kontonummer&quot;</span><span class="p">:</span><span class="s2">&quot;5024161&quot;</span><span class="p">,</span> <span class="s2">&quot;bankleitzahl&quot;</span><span class="p">:</span><span class="s2">&quot;33060592&quot;</span><span class="p">,</span>
              <span class="s2">&quot;iban&quot;</span><span class="p">:</span><span class="s2">&quot;DE15330605920005024161&quot;</span><span class="p">,</span><span class="s2">&quot;bic&quot;</span><span class="p">:</span><span class="s2">&quot;GENODED1SPW&quot;</span><span class="p">}</span>
        <span class="c1"># user.data[&#39;kontoverbindung&#39;] = kv</span>
        <span class="c1"># print(user.kontoverbindung)</span>
        <span class="c1"># user.update(nami)</span>
        <span class="n">user</span> <span class="o">=</span> <span class="n">nami</span><span class="o">.</span><span class="n">mitglied</span><span class="p">(</span><span class="s1">&#39;63868&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
<span class="c1">#        nami.download_beantragung()</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">bescheinigungen</span><span class="p">())</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">get_bescheinigung</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">bescheinigungen</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>
<span class="c1">#        nami.download_bescheinigung(nami.bescheinigungen()[0].id)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">invoices</span><span class="p">())</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">invoice</span><span class="p">(</span><span class="mi">100103</span><span class="p">,</span> <span class="n">nami</span><span class="o">.</span><span class="n">invoices</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>
<span class="c1">#        nami.download_invoice(nami.invoices()[0].id)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">mgl_history</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">get_mgl_history</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">nami</span><span class="o">.</span><span class="n">mgl_history</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">mgl_ausbildungen</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">([</span><span class="n">nami</span><span class="o">.</span><span class="n">get_ausbildung</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
               <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">nami</span><span class="o">.</span><span class="n">mgl_ausbildungen</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">)])</span>
        <span class="n">act</span> <span class="o">=</span> <span class="n">nami</span><span class="o">.</span><span class="n">get_activity</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">nami</span><span class="o">.</span><span class="n">mgl_activities</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">act</span><span class="p">)</span>
<span class="c1">#        nami.update_activity(user.id, act)</span>
<span class="c1">#        user.kontoverbindung.bic = &quot;GENODED1SPW&quot;</span>
        <span class="c1"># print(MitgliedSchema().dumps(user.data, separators=(&#39;,&#39;, &#39;:&#39;)))</span>
<span class="c1">#        user.update(nami)</span>

        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">countries</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">regionen</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">zahlungskonditionen</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">beitragsarten</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">geschlecht</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">staaten</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">konfessionen</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">mgltypes</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">search_all</span><span class="p">(</span><span class="n">filterString</span><span class="o">=</span><span class="s1">&#39;geburtsdatum&#39;</span><span class="p">,</span>
                              <span class="n">searchString</span><span class="o">=</span><span class="s1">&#39;1993-01-02 00:00:00&#39;</span><span class="p">,</span>
                              <span class="n">sortproperty</span><span class="o">=</span><span class="s1">&#39;entries_vorname&#39;</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">history</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">notifications</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">statsCategories</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">status_list</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">tagList</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">bausteine</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">subdivision</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">activities</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">ebenen</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">ebene1</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">ebene2</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">ebene1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">ebene3</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">ebene2</span><span class="p">(</span><span class="n">nami</span><span class="o">.</span><span class="n">ebene1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">id</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">id</span><span class="p">))</span>
        <span class="n">mylist</span> <span class="o">=</span> <span class="p">[[</span><span class="n">x</span><span class="o">.</span><span class="n">descriptor</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">id</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">nami</span><span class="o">.</span><span class="n">ebenen</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">mylist</span><span class="p">)</span>
<span class="c1">#        import csv</span>
<span class="c1">#        import sys</span>
<span class="c1">#        w = csv.writer(sys.stdout, quoting=csv.QUOTE_NONNUMERIC)</span>
<span class="c1">#        print(w.writerows(mylist))</span>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Sebastian Scholz

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>